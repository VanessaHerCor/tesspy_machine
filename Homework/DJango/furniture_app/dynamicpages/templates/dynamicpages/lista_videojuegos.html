{% extends 'dynamicpages/base.html' %}

{% block title %}{{ titulo_pagina }}{% endblock %}

{% block content %}
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
    <h2 style="margin: 0;">üéÆ Cat√°logo de Videojuegos</h2>
    <a href="{% url 'crear_videojuego' %}" style="background: #00d4ff; color: #1a1a2e; padding: 10px 20px; border-radius: 5px; text-decoration: none; font-weight: bold;">‚ûï Agregar Videojuego</a>
</div>

<p style="color: #90ee90; margin-bottom: 20px;">
    ‚ú® Estos datos se obtienen en tiempo real de la base de datos MongoDB
</p>

{% if messages %}
    {% for message in messages %}
        <div style="background: #1e7e34; color: #90ee90; padding: 15px; border-radius: 5px; margin-bottom: 20px; border-left: 4px solid #90ee90;">
            {{ message }}
        </div>
    {% endfor %}
{% endif %}

{% for videogame in videogames %}
    <div class="videogame-item">
        <h3><a href="{% url 'videogame_detail' videogame.id %}">{{ videogame.title }}</a></h3>
        
        <div style="margin: 15px 0;">
            <strong style="color: #00d4ff;">G√©nero:</strong> 
            <span style="color: #ff006e;">{{ videogame.genre }}</span>
        </div>
        
        <div style="margin: 10px 0;">
            <strong style="color: #00d4ff;">Puntuaci√≥n:</strong> 
            <span style="color: #ffd700;">{{ videogame.score }}/100</span>
            {% if videogame.score >= 90 %}
                <span style="color: #90ee90;">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
            {% elif videogame.score >= 80 %}
                <span style="color: #90ee90;">‚≠ê‚≠ê‚≠ê‚≠ê</span>
            {% elif videogame.score >= 70 %}
                <span style="color: #90ee90;">‚≠ê‚≠ê‚≠ê</span>
            {% else %}
                <span style="color: #90ee90;">‚≠ê‚≠ê</span>
            {% endif %}
        </div>
        
        <div style="margin: 10px 0;">
            <strong style="color: #00d4ff;">Plataforma:</strong> 
            <span style="color: #87ceeb;">{{ videogame.main_platform }}</span>
        </div>
        
        <div style="margin: 10px 0;">
            <strong style="color: #00d4ff;">Co-op:</strong>
            {% if videogame.coop %}
                <span class="badge badge-coop">‚úÖ S√≠</span>
            {% else %}
                <span style="color: #ff6b6b;">‚ùå No</span>
            {% endif %}
        </div>
        
        <div class="meta">
            üìÖ {{ videogame.created_at|date:"d/m/Y H:i" }} | üÜî {{ videogame.id }}
        </div>
    </div>
{% empty %}
    <div class="videogame-item">
        <h3>No hay videojuegos a√∫n</h3>
        <p>¬°Pronto habr√° contenido!</p>
    </div>
{% endfor %}

<div class="stats">
    <strong>Total de videojuegos en la BD:</strong> {{ videogames|length }}
</div>

{% comment %}
Filtros y Tags utilizados en este template:
- |truncatewords:N: Corta texto a N palabras
- |date:"formato": Formatea fechas (d/m/Y H:i = d√≠a/mes/a√±o hora:minutos)
- {% for item in lista %}: Itera sobre una lista
- {% empty %}: Mostrar si la lista est√° vac√≠a
- {{ variable }}: Muestra una variable
- {% if condicion %}...{% endif %}: Condicional
{% endcomment %}

{% endblock %}
