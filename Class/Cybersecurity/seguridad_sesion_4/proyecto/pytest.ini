[tool:pytest]
testpaths = tests

python_files = test_*.py *_test.py
python_functions = test_*
python_classes = Test*

# PYTHONPATH configurado automáticamente via conftest.py

addopts = 
    -v
    --strict-markers
    --strict-config
    --tb=short
    -ra

# Marcadores para diferentes tipos de pruebas
markers =
    smoke: smoke tests críticos (deben ejecutarse primero)
    regression: tests de regresión (previenen retrocesos)
    golden: golden/snapshot tests (outputs estables)
    performance: tests de rendimiento (benchmarking)
    slow: tests que tardan >1 segundo
    integration: tests de integración
    unit: tests unitarios

# Configuración para pytest-benchmark (usar --benchmark-skip por defecto)
# Para ejecutar benchmarks: pytest --benchmark-only

# Para ejecutar benchmarks solamente:
# pytest --benchmark-only

# Configuración de pytest-regressions para golden tests
regressions_data_dir = tests/regression/golden/test_data